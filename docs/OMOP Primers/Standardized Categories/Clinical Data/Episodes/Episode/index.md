# üìö Episode

The `episode` table defines **higher-level clinical or analytic periods of interest**‚Äîsuch as **pregnancies, disease episodes, treatment regimens, or care episodes**‚Äîthat bundle together multiple events (conditions, procedures, drugs, etc.) under one umbrella.

Unlike `condition_era`, which is system-derived and focuses on code frequency, `episode` is **explicitly constructed**, either during ETL or by researchers, to represent **real-world clinical constructs** such as "chemotherapy cycle", "radiotherapy episode", "pregnancy", or "hospital stay with sepsis".

Each `episode` may link to its contributing events through the `episode_event` table.

## Key OMOP Fields Mapped to Familiar Clinical Concepts

| OMOP Field | Clinical Analogy | Description | Clinical Relevance |
|------------|------------------|-------------|---------------------|
| `episode_id` | Episode ID | Unique identifier for the episode. | Used to link with `episode_event` and summarize grouped events. |
| `person_id` | Patient ID | Foreign key to `person`. | Associates the episode with the patient. |
| `episode_concept_id` | Type of episode | Standard concept representing the clinical episode (e.g., ‚ÄúPregnancy‚Äù, ‚ÄúChemo Regimen‚Äù). | Defines what the episode represents. |
| `episode_start_date` | Episode start | First date of the episode period. | Used for indexing or time-at-risk logic. |
| `episode_end_date` | Episode end | Last date of the episode. | Used for censoring or exposure duration. |
| `episode_parent_id` | Nested episode | Optional foreign key to a parent episode (e.g., pregnancy containing prenatal visits). | Supports hierarchy of episodes. |
| `episode_number` | Ordinal number | Sequential index if the same episode type repeats (e.g., Chemotherapy Cycle 1, 2, 3‚Ä¶). | Enables tracking longitudinal series. |
| `episode_object_concept_id` | Definition rule | Concept describing how the episode was created (e.g., rule-based, registry-defined). | Helps document provenance and logic used. |

## Common Pitfalls and What to Watch For

- **Rarely populated unless curated**: Requires specific logic or tools (e.g., pregnancy algorithm, oncology pipeline).
- **Must be defined explicitly**: Unlike `condition_era`, episodes are not generated by default in standard ETL.
- **Start and end may span multiple domains**: Often linked to `episode_event` for granular mapping.

## Clinical Use Cases

| Question | Where to Look |
|----------|----------------|
| How many pregnancies ended in live birth vs miscarriage? | `episode_concept_id` = pregnancy + `episode_end_date` + outcome logic |
| What is the median time from diagnosis to treatment in cancer episodes? | `episode` (oncology pipeline) + linked `condition_occurrence` and `drug_exposure` via `episode_event` |
| Can we track episodes of depression with structured remission and recurrence periods? | `episode_concept_id` = major depression episode + `episode_number` |
| How long do patients remain on a given chemotherapy regimen? | `episode_concept_id` = chemo + `episode_start_date` and `episode_end_date` |
| Are surgical complications more common in episodes involving emergency procedures? | `episode_concept_id` = surgical episode + `episode_event` linking to conditions and procedures |
